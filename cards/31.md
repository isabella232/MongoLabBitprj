<!--title={Dynamic Browsing Page Retrieving Events}-->

In `event.js`  file, first, add all of the necessary modules, including mongoose, express, path, and the local path to events (which goes through the folder models). Then, create a new router by using express. The result should look like this:

```javascript
const express = require('express')
const path = require('path')
require('../db/mongoose')
const Event = require('../models/events')
const router = new express.Router()
```

Next, add express() that has the variable name app and a body parser which parses incoming request bodies before the handlers. Have the app call the body parser. Next, have the app use the body parser that is encoding the url. To do this, use the following code:

```javascript
app = express()
const bodyParser = require('body-parser')
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: true }));
```

Once the file is set up, now we can create a method that stores the API for adding an event. To do this, add a function that uses ``router.post`` to events, using an asynchronous function and the arrow method. Within the function should be a command that creates a new event, and logs it to the console. It should also send a *201* status if it succeeds, and if it fails it should catch the exception and send a *400* error. This can be done using the try and catch method. 

Next, create a method that reads all events. This can be done with the``router.get`` call. In the function itself, create a query object. This will eventually have the event name in it. Then create a try method that uses if/else logic to account for if filters are placed on the search. In both cases, the .find() method shoiuld be used on the database. Add the catch method so that if the event name is not in the database, it will throw a *500 error*.

Finally, create a method that reads *one* event. We are again going to use ``router.get`` but this time, instead of just accessing events, we want events/:id so we can get a specific event and not just all of them. In the try method, we want to use ``Event.findById(_id)`` instead of just find because we are working with a specific event.  If it is not found send a *404* error within try. If it is found, then ``send(event)`` so it can be read.  If it is unsuccessful, send a *500 error* under catch.

